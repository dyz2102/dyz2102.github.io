<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="L_BlGtlUG1__xoB9Of3maX6prxRQsa5u5AqUGUAs2Pk" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="DYZ.Life" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Aim for the moon,   and land among the stars.">
<meta property="og:type" content="website">
<meta property="og:title" content="DYZ.Life">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="DYZ.Life">
<meta property="og:description" content="Aim for the moon,   and land among the stars.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DYZ.Life">
<meta name="twitter:description" content="Aim for the moon,   and land among the stars.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6365129204731741000',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/"/>





  <title> DYZ.Life </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ff9ac1b4be74c2093e16b1e43368a943";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">DYZ.Life</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">用文字帮助思考</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/04/2016-11-04-manage-aws-key-using-figaro-on-heroku-for-carrierwave/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/04/2016-11-04-manage-aws-key-using-figaro-on-heroku-for-carrierwave/" itemprop="url">
                  【功能】Managing AWS Key Using Figaro on Heroku for CarrierWave
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-04T11:20:00+08:00">
                2016-11-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/11/04/2016-11-04-manage-aws-key-using-figaro-on-heroku-for-carrierwave/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/04/2016-11-04-manage-aws-key-using-figaro-on-heroku-for-carrierwave/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>In order to store a large amount of information, websites need to purchase servers for space to do so. The server access information is needed for the servers to work. Such information must be maintained secretive, or the server can be stolen or compromised. There are a number of ways to accomplish this, but here we’ll talk about using <code>gem figaro</code> to secure server access information.</p>
<p>First you need to make sure you’re already sign up for a server service somewhere, here we’ll use <a href="https://aws.amazon.com/" target="_blank" rel="external">AWS (Amazon Web Services)</a>. Once you’ve signed up and verified your account, you can access the AWS console, where you’ll find “S3” under the “Storage &amp; Content Delivery” category.<br><img src="http://user-image.logdown.io/user/19391/blog/18870/post/1073097/AkYFgg89Qj2wwDvCL4JH_Screen%20Shot%202016-11-04%20at%207.31.51%20PM.png" alt="Screen Shot 2016-11-04 at 7.31.51 PM.png"></p>
<p>S3 is Amazon’s storage solution, typically used to store large binary files. Then, create a bucket. Name your bucket something relevant to your project and keep the name handy.</p>
<p><img src="http://user-image.logdown.io/user/19391/blog/18870/post/1073097/zeLaNQdnTIaPWYmZxk4Z_Screen%20Shot%202016-11-04%20at%207.35.49%20PM.png" alt="Screen Shot 2016-11-04 at 7.35.49 PM.png"></p>
<p>Then, go to your text editor and do the following:</p>
<ol>
<li><p>Install <code>gem figaro</code>, run <code>bundle install</code> and then <code>figaro install</code></p>
</li>
<li><p>Run the following to create a copy of your <code>application.yml</code> file to be uploaded, but doesn’t contain your AWS access key info:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp config/application.yml config/application.yml.example</div></pre></td></tr></table></figure>
</li>
<li><p>Go to AWS console, under your user name on the top right, go to “Security Credentials”, then click on “Access Key (Acces Key ID and Seceret Access Key). Click “Create New Access Key” and download the file. Save it somewhere secure.</p>
</li>
<li><p>Next go to <code>application.yml</code> and place your AWS access information, as an example:</p>
<figure class="highlight ruby"><figcaption><span>config/application.yml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">production:</span></div><div class="line">    <span class="symbol">AWS_ACCESS_KEY_ID:</span> XXXXXXXXXXXXXXXXXXXX</div><div class="line">    <span class="symbol">AWS_SECRET_ACCESS_KEY:</span> XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div><div class="line"></div><div class="line">    <span class="symbol">AWS_BUCKET_NAME:</span> YOUR-BUCKET-NAME</div></pre></td></tr></table></figure>
</li>
<li><p>The above information is accessed by whatever gem in your app that is using the AWS storage. In my case, I’m using <em>CarrierWave</em> to upload images, but in order to connect to the AWS API I need another gem for integration called <code>gem fog</code>. So add <code>gem fog</code> to the <code>Gemfile</code> and run <code>bundle install</code>. And now in the imageuploader, disable the <code>storage :file</code> line.</p>
<figure class="highlight ruby"><figcaption><span>app/uploader/image_uploader.rb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImageUploader</span> &lt; CarrierWave::Uploader::<span class="title">Base</span></span></div><div class="line"><span class="comment"># storage :file</span></div></pre></td></tr></table></figure>
</li>
<li><p>Under <code>config/initializers</code>, create a <code>carrierwave.rb</code> file to help CarrierWave initialize, and add the below code:</p>
<figure class="highlight ruby"><figcaption><span>config/initializers/carrierwave.rb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">CarrierWave.configure <span class="keyword">do</span> <span class="params">|config|</span></div><div class="line">  <span class="keyword">if</span> Rails.env.production?</div><div class="line">    config.storage <span class="symbol">:fog</span></div><div class="line">    config.fog_credentials = &#123;</div><div class="line">      <span class="symbol">provider:</span>              <span class="string">'AWS'</span>,</div><div class="line">      <span class="symbol">aws_access_key_id:</span>     ENV[<span class="string">"AWS_ACCESS_KEY_ID"</span>],      </div><div class="line">      <span class="symbol">aws_secret_access_key:</span> ENV[<span class="string">"AWS_SECRET_ACCESS_KEY"</span>],</div><div class="line">      <span class="symbol">region:</span>                <span class="string">'eu-west-1'</span> <span class="comment">#(location of your S3 bucket)</span></div><div class="line">    &#125;</div><div class="line">    config.fog_directory  = ENV[<span class="string">"AWS_BUCKET_NAME"</span>]</div><div class="line">  <span class="keyword">else</span></div><div class="line">    config.storage <span class="symbol">:file</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>ENV is short for “Environment Variables”, and you can see these match the names in the <code>application.yml</code> file.</p>
<ol>
<li><p>Once these are set up, go to the <code>.gitignore</code> file and add in <code>config/application.yml</code> to make sure the git will not be uploading this file containing AWS access info onto Heroku. If this is done successfully, you should see <code>config/application.yml</code> either in light grey color or hidden away.</p>
</li>
<li><p>Assuming you’ve already uploaded the current app onto Heroku, run <code>figaro heroku:set -e production</code> in Terminal, you should see the AWS information you’ve listed in <code>application.yml</code> listed.</p>
</li>
<li><p>Run <code>heroku config</code> in Terminal, you should now see Heroku is setup with AWS configuration.</p>
</li>
<li><p>If all above ran smoothly, you can now commit &amp; push to Heroku.</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/03/2016-11-03-day04-week03/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/03/2016-11-03-day04-week03/" itemprop="url">
                  Day04 Week03 - Using AASM Status to Manage Orders
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-03T03:30:00+08:00">
                2016-11-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/11/03/2016-11-03-day04-week03/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/03/2016-11-03-day04-week03/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Today we began introducing order status management using AASM gem. This allowed for order status to be managed more efficiently and effectively.</p>
<p>In order to change order status, an <em>event</em> (keyword) must be invoked in the controller. The <em>event</em> is triggered by a post request from views. This completes the MVC loop.</p>
<p>How to add a new <code>:post</code> action:</p>
<ol>
<li>Create post path in <em>route</em> and <code>rake db:migrate</code></li>
<li>Define post action in <em>controller</em>, linking another “<em>action</em>!”</li>
<li>Create “<em>action</em>!” in <em>model</em></li>
<li>Create button in <em>views</em>, linking to path in <em>route</em>, remember to add <code>:method =&gt; :post</code></li>
</ol>
<p>I also jot down some important notes and learning points that I found useful:</p>
<p><strong>How to change AASM state manually in terminal console:</strong></p>
<p>_[recommend first install <em>gem awesome_rails_console</em> to better view console results]_</p>
<ol>
<li>See all orders by using <code>Order.all</code></li>
<li>Find the one you want by using <code>Order.find(#)</code> with # = the ID number</li>
<li>Define a variable for this order <code>AAA = Order.find(#)</code></li>
<li>Check the AASM state of the order <code>AAA.aasm_state</code></li>
<li>Assign new AASM state (in this case we’ll use “paid”) <code>AAA.aasm_state = &quot;paid&quot;</code></li>
<li>Save <code>AAA.save!</code> (Must add “!” here to force save into the Order, otherwise only the variable AAA’s aasm state will be saved but not when you check again in Order)</li>
</ol>
<p><strong>Important Distinction Between = vs. ===</strong></p>
<p>When I tried to build an <em>if… end</em> statement using = to check value, it didn’t work. This is because = assigns value to a variable, not checking if there is an equality relationship. I changed this to === and it worked. This is a very juvenile mistake that I don’t think will happen again.</p>
<p><strong>Important Distinction Between Array and Single Variable</strong></p>
<p>When I tried to pull the admin user’s email address to send a notification email, the email pull could not work. In the console, I was told the “email” method was undefined.</p>
<p><img src="http://user-image.logdown.io/user/19391/blog/18870/post/1070126/tkPd9OpkQy2CnwJA3au9_Screen%20Shot%202016-11-03%20at%203.43.10%20PM.png" alt="Screen Shot 2016-11-03 at 3.43.10 PM.png"></p>
<p>So I checked <em>order.user</em> vs. <em>User.where(is_admin: true)</em>:</p>
<p><img src="http://user-image.logdown.io/user/19391/blog/18870/post/1070126/fWsC9xJgTlXRX9IxIKA9_Screen%20Shot%202016-11-03%20at%203.44.01%20PM.png" alt="Screen Shot 2016-11-03 at 3.44.01 PM.png"></p>
<p><img src="http://user-image.logdown.io/user/19391/blog/18870/post/1070126/bea4oTnCTKyWOhViLNAP_Screen%20Shot%202016-11-03%20at%203.43.29%20PM.png" alt="Screen Shot 2016-11-03 at 3.43.29 PM.png"></p>
<p>Initially they looked the same to me. Then I noticed the <code>[0]</code> in front of the user details. I know that <code>[ ]</code> indicates an array, and <code>0</code> would be the position of the value in the array. So this is an array with just 1 value. Which meant that I had to specify which value in the array I wanted to call in order for the <code>.email</code> method to work. So I added <code>.first</code> at the end of the variable and pulled the email address successfully.</p>
<p><strong>How to correctly use Roadie Rails automatically</strong></p>
<p>I checked the <code>gem roadie-rails</code> <a href="https://github.com/Mange/roadie-rails" target="_blank" rel="external">website</a>, for whatever reason they didn’t mention how to include the <em>stylesheet</em> inside the email template.</p>
<figure class="highlight ruby"><figcaption><span>app/views/order_mailer/notify_order_placed.html.erb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">+ &lt;link rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span> href=<span class="string">"/assets/application.scss"</span> /&gt;</div></pre></td></tr></table></figure>
<p>This is a key step and without it the CSS would obviously not show up. For a more complete step-by-step simple installation, please see <a href="http://yy4ever.logdown.com/posts/1070697-using-roadie-rails-display-css-layouts" target="_blank" rel="external">here</a>.</p>
<p>I have completed everything in the development stage at this point. The next step will be deployment onto <em>Heroku</em>, which will require an email client (<em>MailGun</em>), a password manager (<em>figaro</em>), and an image host, in addition to a number of issues that may come up along the way. I now understand why it is <strong>critical</strong> to leave out 1/3 of the time for deployment and user testing.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/02/2016-11-02-day03-week03-shopping-site-with-order-delivery/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/02/2016-11-02-day03-week03-shopping-site-with-order-delivery/" itemprop="url">
                  Day03 Week03 - Shopping Site with Order Status
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-02T10:25:00+08:00">
                2016-11-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/11/02/2016-11-02-day03-week03-shopping-site-with-order-delivery/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/02/2016-11-02-day03-week03-shopping-site-with-order-delivery/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Observation</strong></p>
<p>Starting today I’m going to add a title to each blog post instead of the generic title of “DayXX WeekXX” so that I can tell from the title roughly what I’d be writing about.</p>
<p>I also successfully built the mailer function and allowed it to be previewed locally using <em>gem letter_openter</em>. But because the homework instruction has asked that we “complete the formatting” for the emails, I have not submitted the mail function screenshots. I learned that emails cannot be formatted as easily because once it’s sent out it cannot read a separate <em>.css</em> file for formatting so all of the CSS need to be written inline. This would take forever given my lack of experience writing CSS, so I took some time figuring out how to use gems to help… but still working on it so more on that later when I have it all figured out.</p>
<p>I built the <code>admin/orders</code> page to view all orders without referencing any previous homework instructions, but by referencing the previous <em>job-listing</em> and <em>rails103</em> homeworks codes.</p>
<p><strong>Reflective</strong></p>
<p>The highlight today was when I <em>logically</em> figured out how to route <code>admin/orders</code> destroy action correctly between the Controller and Views. So up to this point, I would often copy/paste an CRUD action definition from another controller or a previous project, and test whether it would work for the current controller by trial-and-error. But this time I understood that because <em>destroy</em> method works on a single order, thus the order must be found, and the finding should be based on the token which was pre-generated when each order is <em>created</em>, so <code>find_by_token(params[:id])</code></p>
<p>The low point today was when I tried to look up how to use <code>gem roadie</code> to figure out how email formatting works, it was not immediately clear to me how to do so. I found this website (<a href="https://cookieshq.co.uk/posts/how-to-style-emails-with-rails-and-roadie/" target="_blank" rel="external">https://cookieshq.co.uk/posts/how-to-style-emails-with-rails-and-roadie/</a>) that seemed to have a very good instruction on how to build good-looking emails, but I couldn’t follow the instructions entirely. I couldn’t understand the following lines:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">3. Separate HTML (I&apos;ve put it into HAML for readability) from the CSS. Put the HAML file in your app/views/layouts folder and the CSS on your app/assets/stylesheets folder.</div><div class="line"></div><div class="line">4. Add email.css to the asset precompilation line on your application.rb.</div><div class="line"></div><div class="line">5. Tell your mailer, or some of your emails methods, to use the layout you just created. This is very easy and explained on the Rails Guides</div><div class="line"></div><div class="line">6. Get your layout to yield for the contents in your email views. As you will be working with tables, it could be a good a idea to have the main table in the layout, and the rows corresponding for the header and the footer in the layout as well. In the gist linked before, you can see an example, but it will vary depending on your template.</div><div class="line"></div><div class="line">7. Adapt your mailer views to work as (or within) a table.</div></pre></td></tr></table></figure>
<p>I will get some help on using <em>gem roadie</em> and see if I can get it working once I’ve completed the other development-oriented tasks.</p>
<p><strong>Interpretive</strong></p>
<p>One thing I realized is that working on beautifying an app can take a very long time. Bootstrap is great, but it has <em>one</em> theme, a very “bootstrapped” theme. So while its functions can be tested, it could never make the kind of visual impact I’d like without some level of customization, or better yet, an entirely new theme from a shrewd designer.</p>
<p><strong>Decisional</strong></p>
<p>Tomorrow I will work more efficiently and try to catch up with the tasks given. I think deployment will cause some headaches (with the mailer, key, and everything else that’s different from developmeent environment).</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/01/2016-11-01-orid-framework/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/01/2016-11-01-orid-framework/" itemprop="url">
                  ORID Framework
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-01T18:15:00+08:00">
                2016-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/11/01/2016-11-01-orid-framework/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/01/2016-11-01-orid-framework/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>程序员的自我修养中最重要的环节（没有之一）就是写日记。</p>
<p>Ruby大神Xdite推荐了一个用于写技术总结的框架，叫ORID。</p>
<p>ORID 是一个思考框架，网路上面也有很多相关的资讯。利用 ORID 整理今天的思绪。</p>
<p><strong>Objective</strong></p>
<p>关于今天的课程, 你记得什么?<br>完成了什么?</p>
<p><strong>Reflective</strong></p>
<p>你要如何形容今天的情绪<br>今天的高峰是什么?<br>今天的低点是什么?</p>
<p><strong>Interpretive</strong></p>
<p>我们今天学到了什么?<br>今天一个重要的领悟是什么?</p>
<p><strong>Decisional</strong></p>
<p>我们会如何用一句话形容今天的工作<br>有哪些工作需要明天继续努力?</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/01/2016-11-01-1065684/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/01/2016-11-01-1065684/" itemprop="url">
                  Day02 Week03
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-01T18:13:00+08:00">
                2016-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/11/01/2016-11-01-1065684/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/01/2016-11-01-1065684/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Objective</strong></p>
<p>Today we were given clear instructions on how to build the <code>order</code> function (i.e. when a user decides to check out and make a purchase). I spent the morning finishing off the remaining 4 tasks left over from yesterday. Xdite explained that we were actually expected to finish all 6 yesterday, and that the instructions to add <code>order</code> function can be done separately from yesterday’s tasks. But I still felt compelled to finish in the order the assignments were given.</p>
<p>Luckily, I figured out the 4 tasks pretty quickly (1. will not have duplicate items in cart 2. can change number of a certain item in cart 3. cannot purchase an item which has 0 quantity, 4. cannot add more quantity than what is in stock), though these functions can be improved (which I will get to when I have more time).</p>
<p>Then I followed the instructions closely to build out the <code>order</code> function, which involved creating many migrations and establishing pretty complex relationships between models.</p>
<p><strong>Reflective</strong></p>
<p>In general I felt pretty good about myself as I completed one task after another, with occasional help from classmates to confirm if I’m on the right track (I’ve been going to the TA less frequently now).</p>
<p><strong>Interpretive</strong></p>
<p>Some key learning points today:</p>
<ol>
<li><p>“Member” vs. “Collection” - in routing, “member” sets a particular action routes for individual unit of a resource, while “collection” establishes the action for the whole resource.</p>
</li>
<li><p>Redefining a variable - saying <em>a + 1</em> doesn’t change the value of <em>a</em>, but <em>a = a + 1</em> does. And when a variable’s value has been changed, it needs to be saved with <em>.save</em> method.</p>
</li>
<li><p>Actions defined in the <em>model</em> can be called in the <em>controller</em>.</p>
</li>
</ol>
<p>Worth noting a lot of these concepts were realized from talking with classmates.</p>
<p><strong>Decisional</strong></p>
<p>One key hurdle that remains is figuring out how to call a particular method or data. For instance, what pre-defined method can be called in which of the MVC type of file? What is the difference between “CartItem”, “<em>cart_item</em>“, “<em>cart_items</em>“, “<em>@cart_item</em>“, and “<em>@cart_items</em>“? When to use “<em>current_cart</em>“ vs. “<em>cart</em>“ vs. “<em>@cart</em>“? I really hope to get a better hang of these over the course of this week.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/31/2016-10-31-day01-week03/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/31/2016-10-31-day01-week03/" itemprop="url">
                  Day01 Week03 - Building My Own Method Beyond CRUD
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-31T04:16:00+08:00">
                2016-10-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/10/31/2016-10-31-day01-week03/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/31/2016-10-31-day01-week03/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Objective</strong></p>
<p>Over the weekend I spent some time improving the visuals of the site. I came across a template for men’s fashion and decided to create a men’s fashion site as I had been shopping for a tuxedo prior to the program.</p>
<p>Today we began Phase 2 of the e-commerce project. This phase involves creating a shopping cart and building all of the necessary functionalities around it. We were given hints on how to add a shopping cart upfront, but had to figure out on our own how to increase the shopping cart’s functionalities.</p>
<p>I managed to complete Step 1: adding in the shopping cart, creating an index page of cart items, and has a total sum of all the cart items’ price. For the remaining 6 tasks, I only managed to complete 2 of them today: clearing shopping cart, and removing an individual item from shopping cart.</p>
<p><strong>Reflective</strong></p>
<p>During today’s assignment I had to do a lot more thinking rather than simply copy/pasting codes I had written for previous projects. I was stuck trying to create a <em>remove_item_from_cart</em> action by reverse-engineering the commands used to <em>add_item_to_cart</em>. After getting stuck on this for an hour or so, I decided to go ahead and create a controller for <em>cart_items</em> and used the <em>destroy</em> method to remove the cart item instead.</p>
<p>In addition, when I added the shopping cart function, I encountered the database issue once again, with reported error:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ActionView::Template::Error (SQLite3::SQLException: no such column: cart_items.cart_id: SELECT COUNT(*) FROM &quot;products&quot; INNER JOIN &quot;cart_items&quot; ON &quot;products&quot;.&quot;id&quot; = &quot;cart_items&quot;.&quot;product_id&quot; WHERE &quot;cart_items&quot;.&quot;cart_id&quot; = ?):</div></pre></td></tr></table></figure>
<p>After trying the <code>rake db:migrate</code> command multiple times to no avail, I followed the [database migration fix] (<a href="http://dyz2102-blog.logdown.com/posts/1042590" target="_blank" rel="external">http://dyz2102-blog.logdown.com/posts/1042590</a>) that I had written about earlier and resolved the issue.</p>
<p><strong>Interpretive</strong></p>
<p>Adding the shopping cart was the firt time that we are departing from the plain CRUD methods when creating a model. In building the <em>clear_cart</em> method, we did not use the <em>destroy</em> method, but rather a <em>post</em> action created in the model, by doing the following:</p>
<ol>
<li><p>Config route:</p>
<figure class="highlight ruby"><figcaption><span>config/routes.rb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">resources <span class="symbol">:carts</span> <span class="keyword">do</span></div><div class="line">	collection <span class="keyword">do</span></div><div class="line">		post <span class="symbol">:clear_cart</span></div><div class="line">	<span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
</li>
<li><p>Define in controller</p>
<figure class="highlight ruby"><figcaption><span>app/controllers/application_controller.rb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">clear_cart</span></span></div><div class="line">	current_cart.cart_items.each <span class="keyword">do</span> <span class="params">|item|</span></div><div class="line">		item.destroy</div><div class="line">	<span class="keyword">end</span></div><div class="line">	redirect_to <span class="symbol">:back</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>(Careful not to place this under the “private” section otherwise it won’t be callable globally)</p>
<ol>
<li>Adding button in view<figure class="highlight ruby"><figcaption><span>app/views/carts/index.html.erb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;%= link_to(<span class="string">"Clear Cart"</span>, clear_cart_carts_path, <span class="symbol">method:</span> <span class="symbol">:post</span>, <span class="class"><span class="keyword">class</span>: "<span class="title">btn</span> <span class="title">btn</span>-<span class="title">lg</span> <span class="title">btn</span>-<span class="title">primary</span> <span class="title">pull</span>-<span class="title">right</span>") %&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>The specific route for the already defined <em>clear_cart</em> action can be found using <code>rake routes</code> command:</p>
<p><img src="http://user-image.logdown.io/user/19391/blog/18870/post/1061503/x1HfJVV3QnBahD3RsQKb_Screen%20Shot%202016-10-31%20at%205.15.14%20PM.png" alt="Screen Shot 2016-10-31 at 5.15.14 PM.png"></p>
<p>I realize now that there are actions beyond CRUD methods that we can define on our own as long as we get the logic right.</p>
<p><strong>Decisional</strong></p>
<p>In conversing with others in the class, I realize that though I can build certain functions by Googling and referencing prior projects, there were a lot of basic Ruby terminologies and logic that I am still unfamiliar with, which hinders my ability to discuss with classmates on coming up with solutions. I will need to spend more time on Ruby basics.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/28/2016-10-28-week02-weekly-summary/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/28/2016-10-28-week02-weekly-summary/" itemprop="url">
                  Week02 - Weekly Summary
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-28T09:21:00+08:00">
                2016-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/10/28/2016-10-28-week02-weekly-summary/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/28/2016-10-28-week02-weekly-summary/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Objective</strong></p>
<p>This week we finished up the Job Listing projected and started on the new e-commerce project. I completed both projects without much difficulties (the key challenges have been outlined <a href="http://dyz2102-blog.logdown.com/posts/1042590" target="_blank" rel="external">here</a> and <a href="http://dyz2102-blog.logdown.com/posts/1040952" target="_blank" rel="external">here</a>). And today I began working on implementing Bootstrap templates to make the site better looking.</p>
<p><strong>Reflective</strong></p>
<p>The best parts of this week was probably being able to fork, build, pull, and complete a number of other tasks such as installing gems and running migrations on my own. I am getting a better hang of how Rails works, but definitely need to do a wider variety of projects to be exposed to more functionalities. The projects so far, a forum, a job listing site, and an e-commerce site, are all pretty similar, at least so far as we haven’t been building the shopping cart and generating payment/inventory management functions yet.</p>
<p>At times I felt a bit bored, but I overcame that feeling by working on CSS to improve visuals of the site and learning the basics of coding from <em>CodeAcademy</em>.</p>
<p><strong>Interpretive</strong></p>
<p>One key realization this week was the distinction between bundling a gem file vs. downloading it form the developer website. If the gem is included in the <code>Gemfile</code> inside the repository, then every time it’s installed or updated, it will automatically fetch the latest version online (or whatever version you specify). This process is automated so that the developer would never have to worry about updating gems by checking developer websites individually.</p>
<p>Another important realization is that creating visuals on websites is very detailed work. In the projects so far, because we haven’t been bothering with too much visual, this hasn’t come up as an important factor. But in practice, we of course want our projects to look nice, and working with CSS/JS can become a big part of development.</p>
<p><strong>Decisional</strong></p>
<p>With the above in mind, I will be spending more time learning how CSS/JS work in Rails. I really look forward to creating more functionality on the e-commerce website next week (shopping cart, checkout, inventory mangement, etc.).</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/28/2016-10-28-1048683/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/28/2016-10-28-1048683/" itemprop="url">
                  Week02 - Best Concept/Tool
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-28T09:10:00+08:00">
                2016-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/10/28/2016-10-28-1048683/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/28/2016-10-28-1048683/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I think the most useful concept I learned this week was the connection between Controller and View, specifically with regards to the <em>index</em> and <em>show</em> actions.</p>
<p>With the index action, we are always dealing with <em>all</em> entries that have been made, so the variable is plural. For instance, we would declare under the product controller:</p>
<figure class="highlight ruby"><figcaption><span>products_controller.rb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span></span></div><div class="line">	@products = Product.all</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>In turn, when the <em>index</em> action is called, it renders the <code>views/XXX/index.html.erb</code> page. In this page, in order to retreive information for the products, we would have to call the <code>@products</code> variable:</p>
<figure class="highlight ruby"><figcaption><span>views/products/index.html.erb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;% @products.each <span class="keyword">do</span> <span class="params">|product|</span> %&gt;</div><div class="line">	&lt;%= image_tag (product.image.thumb.url) %&gt;</div></pre></td></tr></table></figure>
<p>Similarly, under the <em>show</em> action, we are dealing with information for a <em>specific</em> occurance of a product, and thus the word “product” should be singular.</p>
<figure class="highlight ruby"><figcaption><span>products_controller.rb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line">	@product = Product.find(params[<span class="symbol">:id</span>])</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>And in the <code>views/products/show.html.erb</code> file, we call the singular @product variable which has already been defined in the controller:</p>
<figure class="highlight ruby"><figcaption><span>views/products/show.html.erb</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;%= image_tag @product.image.medium.url, <span class="symbol">:class</span> =&gt; <span class="string">"style_image"</span> %&gt;</div></pre></td></tr></table></figure>
<p>This distinction really helped me to code better in the view files to make sure I’m getting the correct variables.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/28/2016-10-28-1048473/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/28/2016-10-28-1048473/" itemprop="url">
                  Week02 - Biggest Challenge
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-28T07:13:00+08:00">
                2016-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/10/28/2016-10-28-1048473/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/28/2016-10-28-1048473/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The most challenging part of this year was getting the image uploader gem <em>CarrierWave</em> to work. I did these steps below:</p>
<ol>
<li>Installing the gem</li>
<li>Loading the uploader in the <em>model</em></li>
<li>Adding a column using <code>rails g migration AddImageToProduct</code></li>
<li>Run <code>rake db:migrate</code></li>
<li>Adding the new column to the “product” <em>controller</em></li>
</ol>
<p>… yet the upload still returned error!</p>
<p>The error was that image was “nil”, which meant that the image didn’t get uploaded, or that in the <em>product</em> image wasn’t attached. So I checked the <em>schema</em> document and realized that even though I ran <code>db:migrate</code>, the image was never added to the <em>schema</em> - not sure why though.</p>
<p>First, I tried to fix this with <code>rake db:reset</code>, which didn’t work because it takes the schema document rather than updating it. Then I used rake db:drop, rake db:create, and rake db:migrate to recreate the database, which finally worked.</p>
<p>I wrote a more detailed version of the above issue <a href="http://dyz2102-blog.logdown.com/posts/1042590" target="_blank" rel="external">here</a>.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/28/2016-10-28-1047572/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="朱英楠David">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/tshirt_fullstack.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="DYZ.Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="DYZ.Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/28/2016-10-28-1047572/" itemprop="url">
                  Day04 Week02
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-28T03:45:00+08:00">
                2016-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程学习/" itemprop="url" rel="index">
                    <span itemprop="name">编程学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/10/28/2016-10-28-1047572/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/28/2016-10-28-1047572/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Objective</strong></p>
<p>Today I came into the classroom with 2 outstanding issues to resolve based on this week’s assignments: The first being fixing the routing such that products <em>index</em> and <em>show</em> can be accessed without the <code>admin</code> namespace, and the second being displaying the products index page as an image grid rather than a table. I finished both tasks largely on my own, with the only hint from the TA being “use Bootstrap code” for the second issue.</p>
<p><strong>Reflective</strong></p>
<p>It felt great to be able to resolve the above issues on my own. I am getting a better hang of the MVC framework, and can largely use <code>rake routes</code> to figure out the correct paths to direct links. I also finally understood the difference between <em>namespace</em> and <em>resources</em>.</p>
<p><strong>Interpretive</strong></p>
<p>I had previously worked on a e-commerce startup idea, and during the product sorting process my CTO told the team to only use square photos. After playing with <em>CarrierWave</em> and <em>MiniMagick</em> I now understand why. Square photos are easier to display as we can change dimension without having to worry about proportional ratios.</p>
<p>I also understand now that some CSS codes are “hidden” inside the Bootstrap gem and can be called in the HTML directly (such as <code>&lt;class=&quot;thumbnail&quot;&gt;</code> would add a round-cornered border around an image or division.</p>
<p> <strong>Decisional</strong></p>
<p>The tasks over the past two days have been fairly simple, and I have completed them without too much trouble, which means that I had learned sufficiently from the previous projects. However, as the e-commerce project grows in complexity (adding shopping cart, payment, inventory management, etc.) I very much expect and look forward to stretch my knowledge and brain next week.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/tshirt_fullstack.jpg"
               alt="朱英楠David" />
          <p class="site-author-name" itemprop="name">朱英楠David</p>
          <p class="site-description motion-element" itemprop="description">Aim for the moon, <br>  and land among the stars.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">116</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">56</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/dyz2102" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/davidyzhu" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://cn.linkedin.com/in/davidyzhu" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  LinkedIn
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/zhuyingnan" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-question-circle-o"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-telegram"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">朱英楠David</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"dyzlife"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  









  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
